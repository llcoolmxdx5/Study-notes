# 前端框架对比

包含 vue react 原生小程序 taro rn

## 生命周期

### vue生命周期

| # | vue |
| :-------- | :----- |
| 创建 | beforeCreate：实例刚在内存中被创建出来，此时，还没有初始化好 data 和 methods 属性 |
|     | created：实例已经在内存中创建OK，此时 data 和 methods 已经创建OK，此时还没有开始 编译模板 |
|     | beforeMount：此时已经完成了模板的编译，但是还没有挂载到页面中 |
|     | mounted：此时，已经将编译好的模板，挂载到了页面指定的容器中显示 |
| 运行 | beforeUpdate：状态更新之前执行此函数， 此时 data 中的状态值是最新的，但是界面上显示的 数据还是旧的，因为此时还没有开始重新渲染DOM节点 |
|     | updated：实例更新完毕之后调用此函数，此时 data 中的状态值 和 界面上显示的数据，都已经完成了更新，界面已经被重新渲染好了！ |
| 更新 | updated：实例更新完毕之后调用此函数，此时 data 中的状态值 和 界面上显示的数据，都已经完成了更新，界面已经被重新渲染好了！  |
| 销毁 | beforeDestroy：实例销毁之前调用。在这一步，实例仍然完全可用。 |
|     | destroyed：Vue 实例销毁后调用。调用后，Vue 实例指示的所有东西都会解绑定，所有的事件监听器会被移除，所有的子实例也会被销毁。 |
| keep-alive | activated：keep-alive 组件激活时调用。 |
|            | deactivated：keep-alive 组件停用时调用。 |

### react生命周期

| # | react |
| :--------   | :----- |
| 挂载 | constructor(props):完成了React数据的初始化 |
|     | static getDerivedStateFromProps(props, state)：会在调用 render 方法之前调用，并且在初始挂载及后续更新时都会被调用。它应返回一个对象来更新 state，如果返回 null 则不更新任何内容。此方法适用于罕见的用例，即 state 的值在任何时候都取决于 props。 |
|     | render() |
|     | componentDidMount():组件第一次渲染完成，此时dom节点已经生成，可以在这里调用ajax请求，返回数据setState后组件会重新渲染 |
| 更新 | static getDerivedStateFromProps(props, state) |
|     | shouldComponentUpdate(nextProps, nextState):<br>1.主要用于性能优化(部分更新)<br>2.唯一用于控制组件重新渲染的生命周期，由于在react中，setState以后，state发生变化，组件会进入重新渲染的流程，在这里return false可以阻止组件的更新<br>3.因为react父组件的重新渲染会导致其所有子组件的重新渲染，这个时候其实我们是不需要所有子组件都跟着重新渲染的，因此需要在子组件的该生命周期中做判断 |
|     | render()：render函数会插入jsx生成的dom结构，react会生成一份虚拟dom树，在每一次组件更新时，在此react会通过其diff算法比较更新前后的新旧DOM树，比较以后，找到最小的有差异的DOM节点，并重新渲染。 |
|     | getSnapshotBeforeUpdate(prevProps, prevState)： 在最近一次渲染输出（提交到 DOM 节点）之前调用。它使得组件能在发生更改之前从 DOM 中捕获一些信息（例如，滚动位置）。此生命周期的任何返回值将作为参数传递给 componentDidUpdate()（第三个参数）。此用法并不常见，但它可能出现在 UI 处理中，如需要以特殊方式处理滚动位置的聊天线程等。 |
|     | componentDidUpdate(prevProps, prevState, snapshot)：组件更新完毕后，react只会在第一次初始化成功会进入componentDidmount,之后每次重新渲染后都会进入这个生命周期，这里可以拿到prevProps和prevState，即更新前的props和state。 |
| 卸载 | componentWillUnmount():在此处完成组件的卸载和数据的销毁 <br>1.clear你在组件中所有的setTimeout,setInterval <br>2.移除所有组件中的监听 removeEventListener |
| 错误处理 | static getDerivedStateFromError(error)：此生命周期会在后代组件抛出错误后被调用。 它将抛出的错误作为参数，并返回一个值以更新 state，会在渲染阶段调用，因此不允许出现副作用。 如遇此类情况，请改用 componentDidCatch() |
| 错误处理 | componentDidCatch(error, info)：此生命周期在后代组件抛出错误后被调用。 它接收两个参数：error —— 抛出的错误info —— 带有 componentStack key 的对象，其中包含有关组件引发错误的栈信息。componentDidCatch() 会在“提交”阶段被调用，因此允许执行副作用。 它应该用于记录错误之类的情况 |

## 路由

## 组件传值

## 状态管理
